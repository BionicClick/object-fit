!function(global){"use strict";var objectFit={};objectFit._debug=!0,objectFit.getComputedStyle=function(element,context){var context=context||window;return context.getComputedStyle?context.getComputedStyle(element,null):element.currentStyle},objectFit.getDefaultComputedStyle=function(element){var newelement=element.cloneNode(!0),styles={},iframe=document.createElement("iframe");document.body.appendChild(iframe),iframe.contentWindow.document.open(),iframe.contentWindow.document.write("<body></body>"),iframe.contentWindow.document.body.appendChild(newelement),iframe.contentWindow.document.close();var defaultElement=iframe.contentWindow.document.querySelectorAll(element.nodeName.toLowerCase())[0],defaultComputedStyle=this.getComputedStyle(defaultElement,iframe.contentWindow);for(var property in defaultComputedStyle){var value=defaultComputedStyle.getPropertyValue?defaultComputedStyle.getPropertyValue(property):defaultComputedStyle[property];if(null!==value)switch(property){default:styles[property]=value;break;case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":}}return document.body.removeChild(iframe),styles},objectFit.getMatchedStyle=function(element,property){var val=element.style.getPropertyValue?element.style.getPropertyValue(property):element.currentStyle[property];if(null!==val)return val;for(var rules=getMatchedCSSRules(element),i=rules.length;i-->0;){var r=rules[i],important=r.style.getPropertyPriority(property);if((null===val||important)&&(val=r.style.getPropertyValue(property),important))break}return val},objectFit.orientation=function(replacedElement){if("x-object-fit"===replacedElement.parentNode.nodeName.toLowerCase()){var width=replacedElement.naturalWidth||replacedElement.clientWidth,height=replacedElement.naturalHeight||replacedElement.clientHeight,parentWidth=replacedElement.parentNode.clientWidth,parentHeight=replacedElement.parentNode.clientHeight;!height||width/height>parentWidth/parentHeight?(replacedElement.className=" x-object-fit-wider",this._debug&&window.console&&console.log("x-object-fit-wider")):(replacedElement.className="x-object-fit-taller",this._debug&&window.console&&console.log("x-object-fit-taller"))}},objectFit.process=function(args){if(args.selector){switch(args.fittype=args.fittype||"none",args.fittype){default:return;case"none":case"fill":case"contain":case"cover":}var replacedElements=document.querySelectorAll(args.selector);if(replacedElements.length)for(var i=0,replacedElements_length=replacedElements.length;replacedElements_length>i;i++)!function(){var replacedElement=replacedElements[i],replacedElementStyles=objectFit.getComputedStyle(replacedElement),replacedElementDefaultStyles=objectFit.getDefaultComputedStyle(replacedElement),wrapperElement=document.createElement("x-object-fit");objectFit._debug&&window.console&&console.log("Applying to WRAPPER-------------------------------------------------------");for(var property in replacedElementStyles){var value=objectFit.getMatchedStyle(replacedElement,property);null!==value&&(objectFit._debug&&window.console&&console.log(property+": "+value),wrapperElement.style[property]=value)}objectFit._debug&&window.console&&console.log("Applying to REPLACED ELEMENT-------------------------------------------------------");for(var property in replacedElementDefaultStyles){var value=replacedElementDefaultStyles[property];objectFit._debug&&window.console&&console.log(property+": "+value),replacedElement.style[property]=value}wrapperElement.setAttribute("class","x-object-fit-"+args.fittype),replacedElement.parentNode.insertBefore(wrapperElement,replacedElement),wrapperElement.appendChild(replacedElement),objectFit.orientation(replacedElement);var resizeTimer=null,resizeAction=function(){null!==resizeTimer&&window.clearTimeout(resizeTimer),resizeTimer=window.setTimeout(function(){objectFit.orientation(replacedElement)},50)};switch(args.fittype){default:break;case"contain":case"cover":window.addEventListener?(window.addEventListener("resize",resizeAction,!1),window.addEventListener("orientationchange",resizeAction,!1)):window.attachEvent("onresize",resizeAction)}}()}},objectFit.init=function(args){if(args)if("Array"==typeof args)for(var i=0,args_length=args.length;args_length>i;i++)this.process(args[i]);else this.process(args)},objectFit.polyfill=function(args){"objectFit"in document.documentElement.style==!1&&(window.addEventListener?window.addEventListener("load",function(){objectFit.init(args)},!1):window.attachEvent("onload",function(){objectFit.init(args)}))},global.objectFit=objectFit}(window);